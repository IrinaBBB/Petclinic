@page "/"
@inject IPetRepository _petRepository


<MudTabs Elevation="1" Rounded="true" ApplyEffectsToContainer="true">
    <MudTabPanel Text="All Pets">
        <MudText>
            <MudTable Items="@_petListModel.Take(20)" Hover="true" Striped="true" Elevation="1" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-6">
                <HeaderContent>
                    <MudTh>Name</MudTh>
                    <MudTh>Weight</MudTh>
                    <MudTh>Type</MudTh>
                    <MudTh>Sex</MudTh>
                </HeaderContent>
                <RowTemplate>
                    <MudTd DataLabel="Name">@context.Name</MudTd>
                    <MudTd DataLabel="Weight">@(context.Weight == null ? "Not known" : context.Weight)</MudTd>
                    <MudTd DataLabel="Type">@context.PetType.Name</MudTd>
                    <MudTd DataLabel="Sex">@context.Sex</MudTd>
                </RowTemplate>
            </MudTable>
        </MudText>
    </MudTabPanel>
    <MudTabPanel Text="Tab Two">
        <MudText>Content Two</MudText>
    </MudTabPanel>
    <MudTabPanel Text="Tab Three">
        <MudText>Content Three</MudText>
    </MudTabPanel>
</MudTabs>
<MudFab Color="Color.Primary" Icon="@Icons.Material.Filled.Add" Link="pet/add" aria-label="add" />


@code {
    private IEnumerable<PetDto> _petListModel = new List<PetDto>();

    protected override void OnInitialized()
    {
        _petListModel =  _petRepository.GetAllPets();
    }
}